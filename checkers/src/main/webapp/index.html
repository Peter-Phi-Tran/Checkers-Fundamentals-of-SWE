<html>
    <div id="new_account">
    	<h1>Create New Account</h1>
			<label for = "username">Enter new username</label>
			<input type = "text" id = "username" name="username" placeholder="Enter new username">
			<label for = "password">Enter new password</label>
			<input type="password" id="password" name="password" placeholder="Enter new password">

			<button type="submit">Register</button>
    </div>
    <div id="join_game">
    join game
    </div>
    <div id="game_display">
    game display
    </div>
    <div class="summary">
		<h1>Leaderboard</h1>
		<table>
			<thead>
				<tr>
					<th>Rank</th>
					<th>Player</th>
					<th>Elo</th>
					<th>Games Won</th>
					<th>Games Lost</th>
					<th>Total Number of Games</th>
				</tr>
			</thead>
		<!-- Example data, these will be cleared and filled with JSON through a JS script -->
			<tbody>
				<tr>
					<td>1</td>
					<td>Player 1</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>2</td>
					<td>Player 2</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>3</td>
					<td>Player 3</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>4</td>
					<td>Player 4</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>5</td>
					<td>Player 5</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>6</td>
					<td>Player 6</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>7</td>
					<td>Player 7</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>8</td>
					<td>Player 8</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>9</td>
					<td>Player9</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
				<tr>
					<td>10</td>
					<td>Player 10</td>
					<td>0</td>
					<td>00</td>
					<td>000</td>
					<td>0000</td>
				</tr>
			</tbody>
		</table>
		 <!--- <p class= "caption"> Top 10 players.</p> -->
		<!-- <a href="../index.html" class="button">Back to Home</a> -->
		<script src="summary.js"></script>	
	</div>

    <div id="stuff">
     <input type="button" value="Send Something" onclick="msg()">
      <label for="tbox">Received</label>
      <textarea id="tbox" name="tbox" rows="4" cols="50">
     </textarea>
    </div>
</html>
<script>
    // each of the 'divs' in the html page should have attributes to allow them to be hidden.
    // the page manager should send a small json message, that tells which of these are hidden
    // and which are visible when there is a change
    // something like "{"display_new_account":t,"display_join_game":f,"display_game_display:f,"display_summary":f}"


    // a reminder.  we want to create one websocket connection, and use if, basically forever.
    // or until the user decides to go to another page.
    // this requires everything to load from this page.

   
    var connection = null;

    var serverUrl;
    serverUrl = "ws://" + window.location.hostname + ":" + (parseInt(location.port) + 100);
    connection = new WebSocket(serverUrl);

    connection.onopen = function (evt) {
        console.log("open");
    }

    connection.onclose = function (evt) {
        console.log("close");
    }

    connection.onmessage = function (evt) {
        var msg;
        msg = evt.data;

        console.log("Message received: " + msg);
        document.getElementById("tbox").innerHTML = msg + '\n' + document.getElementById("tbox").innerHTML;
        //const obj = JSON.parse(msg);
    }

    class UserEvent {
        msg;
    }

    function msg() {
        console.log("button clicked");
        U = new UserEvent();
        U.msg="i pushed a button";
        connection.send(JSON.stringify(U));
        console.log(JSON.stringify(U))
    }

	function summary(/*void*/) {
    /*
     * Fetches and displays player ranking data in the summary table.
     *
     * This function retrieves JSON data for:
     * - The current player, identified via a session UUID.
     * - The top 10 ranked players.
     *
     * The data is retrieved using:
     * - `retrieveUserJson(uuid)`: Fetches the current player's data.
     * - `retrieveTopTenJson()`: Fetches the top 10 ranked players.
     *
     * The retrieved data is then written to the HTML table inside the summary div.
     *
     * TODO:
     * - Implement a method to obtain the session UUID to call `retrieveUserJson(uuid)`.
     * - Handle potential errors when fetching data.
     * - Ensure proper table structure for displaying the data.
     */
    
    // playerData = retrieveUserJson();
    // globalData = retrieveTopTenJson();

    // Write top ten to table
    // Write user to table
    return;
}
</script>
